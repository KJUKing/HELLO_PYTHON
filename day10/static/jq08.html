<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    #it{
      width: 30px;
    }
    #my_div{
      height: 200px;
    }
  </style>
</head>
<script src="jquery-3.7.1.js"></script>
<script type="text/javascript">
  var com = "";

  function ran3() {
    var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];

    for (let i = 0; i < 100; i++) {
      var rnd = Math.floor(Math.random() * 9);  // 무작위로 0부터 8까지 선택
      var a = arr[0];
      var b = arr[rnd];
      arr[0] = b;
      arr[rnd] = a;
    }

    return arr[0] + "" + arr[1] + "" + arr[2];
  }

  function getS(mine, com) {
    var m1 = mine.substring(0, 1);
    var m2 = mine.substring(1, 2);
    var m3 = mine.substring(2, 3);

    var c1 = com.substring(0, 1);
    var c2 = com.substring(1, 2);
    var c3 = com.substring(2, 3);

    var ret = 0;
    if (m1 == c1) ret++;
    if (m2 == c2) ret++;
    if (m3 == c3) ret++;

    return ret;
  }

  function getB(mine, com) {
    var m1 = mine.substring(0, 1);
    var m2 = mine.substring(1, 2);
    var m3 = mine.substring(2, 3);

    var c1 = com.substring(0, 1);
    var c2 = com.substring(1, 2);
    var c3 = com.substring(2, 3);

    var ret = 0;
    if (m1 == c2 || m1 == c3) ret++;
    if (m2 == c1 || m2 == c3) ret++;
    if (m3 == c1 || m3 == c2) ret++;

    return ret;
  }

  function myclick() {
    var mine = $("#it").val();
    var s = getS(mine, com);
    var b = getB(mine, com);

    var line = mine + "\t" + s + "S" + b + "B<br/>";
    var str_old = $("#my_div").html();

    $("#my_div").html(str_old + line);

    $("#it").val("");
    if (s == 3) {
      alert("축하합니다");
    }
  }

  $(function () {
    $("#btn").on("click", function () {
      myclick();
    });
    com = ran3();
    console.log(com);
  });

</script>
<body>
<table border="1px">
  <tr>
    <td>야구 게임</td>
    <td>
      <input type="text" id="it">
    </td>
  </tr>
  <tr>
    <td colspan="2">
      <input type="button" value="맞춰보세요" id="btn"/>
    </td>
  </tr>
  <tr>
    <td colspan="2">
      <div id="my_div"></div>
    </td>
  </tr>
</table>
</body>
</html>
